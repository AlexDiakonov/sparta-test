{"ast":null,"code":"var _jsxFileName = \"/Users/odiakonov/Desktop/testTask/sparta-test/src/components/LoginForm/LoginForm.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Button from \"../ButtonComponent/Button\";\nimport \"./login.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = _ref => {\n  _s();\n  let {\n    cookies,\n    setAuth\n  } = _ref;\n  const [userData, setUserData] = useState({\n    login: \"\",\n    password: \"\"\n  });\n  const inputHandler = (e, objKey) => {\n    setUserData({\n      ...userData,\n      [objKey]: e.currentTarget.value\n    });\n  };\n  const logInUser = (e, token) => {\n    e.preventDefault();\n    const expirationDate = new Date();\n    expirationDate.setTime(expirationDate.getTime() + 1 * 60 * 60 * 1000);\n    cookies.set(\"authToken\", token, {\n      path: \"/\",\n      secure: true,\n      sameSite: true,\n      expires: expirationDate\n    });\n    setAuth(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    \"data-testid\": \"login-form\",\n    className: \"login__form\",\n    onSubmit: e => {\n      logInUser(e, \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\");\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      \"data-testid\": \"login-input\",\n      className: \"login__form__input\",\n      onChange: e => inputHandler(e, \"login\"),\n      type: \"text\",\n      placeholder: \"Enter login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      \"data-testid\": \"password-input\",\n      className: \"login__form__input\",\n      onChange: e => inputHandler(e, \"password\"),\n      type: \"text\",\n      placeholder: \"Enter password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"login__form__submitBtn\",\n      type: \"submit\",\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginForm, \"cI6yQ6jUcH40ZRv4eKesNEBnSOc=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useState","Button","jsxDEV","_jsxDEV","LoginForm","_ref","_s","cookies","setAuth","userData","setUserData","login","password","inputHandler","e","objKey","currentTarget","value","logInUser","token","preventDefault","expirationDate","Date","setTime","getTime","set","path","secure","sameSite","expires","className","onSubmit","children","onChange","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/odiakonov/Desktop/testTask/sparta-test/src/components/LoginForm/LoginForm.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { UserData, UserLoginComponent } from \"../../interfaces/userLogin\";\nimport Button from \"../ButtonComponent/Button\";\nimport \"./login.scss\";\nconst LoginForm: React.FC<UserLoginComponent> = ({ cookies, setAuth }) => {\n  const [userData, setUserData] = useState<UserData>({\n    login: \"\",\n    password: \"\",\n  });\n\n  const inputHandler = (\n    e: React.FormEvent<HTMLInputElement>,\n    objKey: string\n  ) => {\n    setUserData({\n      ...userData,\n      [objKey]: e.currentTarget.value,\n    });\n  };\n\n  const logInUser = (e: React.SyntheticEvent, token: string): void => {\n    e.preventDefault();\n\n    const expirationDate = new Date();\n    expirationDate.setTime(expirationDate.getTime() + 1 * 60 * 60 * 1000);\n\n    cookies.set(\"authToken\", token, {\n      path: \"/\",\n      secure: true,\n      sameSite: true,\n      expires: expirationDate,\n    });\n    setAuth(true);\n  };\n\n  return (\n    <form\n      data-testid=\"login-form\"\n      className=\"login__form\"\n      onSubmit={(e) => {\n        logInUser(\n          e,\n          \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c\"\n        );\n      }}\n    >\n      <input\n        data-testid=\"login-input\"\n        className=\"login__form__input\"\n        onChange={(e) => inputHandler(e, \"login\")}\n        type=\"text\"\n        placeholder=\"Enter login\"\n      />\n      <input\n        data-testid=\"password-input\"\n        className=\"login__form__input\"\n        onChange={(e) => inputHandler(e, \"password\")}\n        type=\"text\"\n        placeholder=\"Enter password\"\n      />\n      <Button className=\"login__form__submitBtn\" type=\"submit\">\n        Log in\n      </Button>\n    </form>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAOC,MAAM,MAAM,2BAA2B;AAC9C,OAAO,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACtB,MAAMC,SAAuC,GAAGC,IAAA,IAA0B;EAAAC,EAAA;EAAA,IAAzB;IAAEC,OAAO;IAAEC;EAAQ,CAAC,GAAAH,IAAA;EACnE,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAW;IACjDW,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,YAAY,GAAGA,CACnBC,CAAoC,EACpCC,MAAc,KACX;IACHL,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAACM,MAAM,GAAGD,CAAC,CAACE,aAAa,CAACC;IAC5B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,SAAS,GAAGA,CAACJ,CAAuB,EAAEK,KAAa,KAAW;IAClEL,CAAC,CAACM,cAAc,EAAE;IAElB,MAAMC,cAAc,GAAG,IAAIC,IAAI,EAAE;IACjCD,cAAc,CAACE,OAAO,CAACF,cAAc,CAACG,OAAO,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IAErEjB,OAAO,CAACkB,GAAG,CAAC,WAAW,EAAEN,KAAK,EAAE;MAC9BO,IAAI,EAAE,GAAG;MACTC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAER;IACX,CAAC,CAAC;IACFb,OAAO,CAAC,IAAI,CAAC;EACf,CAAC;EAED,oBACEL,OAAA;IACE,eAAY,YAAY;IACxB2B,SAAS,EAAC,aAAa;IACvBC,QAAQ,EAAGjB,CAAC,IAAK;MACfI,SAAS,CACPJ,CAAC,EACD,6JAA6J,CAC9J;IACH,CAAE;IAAAkB,QAAA,gBAEF7B,OAAA;MACE,eAAY,aAAa;MACzB2B,SAAS,EAAC,oBAAoB;MAC9BG,QAAQ,EAAGnB,CAAC,IAAKD,YAAY,CAACC,CAAC,EAAE,OAAO,CAAE;MAC1CoB,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACzB,eACFpC,OAAA;MACE,eAAY,gBAAgB;MAC5B2B,SAAS,EAAC,oBAAoB;MAC9BG,QAAQ,EAAGnB,CAAC,IAAKD,YAAY,CAACC,CAAC,EAAE,UAAU,CAAE;MAC7CoB,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC5B,eACFpC,OAAA,CAACF,MAAM;MAAC6B,SAAS,EAAC,wBAAwB;MAACI,IAAI,EAAC,QAAQ;MAAAF,QAAA,EAAC;IAEzD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAS;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEX,CAAC;AAACjC,EAAA,CA7DIF,SAAuC;AAAAoC,EAAA,GAAvCpC,SAAuC;AA+D7C,eAAeA,SAAS;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}